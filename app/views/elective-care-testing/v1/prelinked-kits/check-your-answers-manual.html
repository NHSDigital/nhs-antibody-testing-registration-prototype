{% set fullname %}
  {% if data.cuFirstName and data.cuLastName %}
    {{ data.cuFirstName }} {{ data.cuLastName }}
    {% else %}
      Pete Smith
  {% endif %}
{% endset %}

{% set dob %}
  {% if data["cuDOB-day"] and data["cuDOB-month"] and data["cuDOB-year"]  %}
    {{ data["cuDOB-day"]}} {{ data["cuDOB-month"] | monthToWord }} {{ data["cuDOB-year"]}}
  {% else %}
    31 March 1975
  {% endif %}
{% endset %}

{% set procedure %}
  {% if data ['date-of-procedure-day'] and data['date-of-procedure-month'] and ['date-of-procedure-year']  %}
    {{ data['date-of-procedure-day']}} {{ data['date-of-procedure-month'] | monthToWord }} {{ data['date-of-procedure-year']}}
  {% else %}
    21 January 2021
  {% endif %}
{% endset %}

{% set symptoms %}
  {% if data ['symptoms-start-date-day'] and data['symptoms-start-date-month'] and ['symptoms-start-date-year']  %}
    {{ data['symptoms-start-date-day']}} {{ data['symptoms-start-date-month'] | monthToWord }} {{ data['symptoms-start-date-year']}}
  {% else %}
    04 November 2020
  {% endif %}
{% endset %}

{% set Gender %}
  {% if data.cuGender %}
    {{ data.cuGender}} 
    {% else %}
      Male
  {% endif %}
{% endset %}

{% set NHSnumber %}
  {% if data.cuNumber %}
    {{ data.cuNumber }} 
    {% else %}
      867 406 5600
  {% endif %}
{% endset %}

{% set mobile %}
  {% if data['mobile-phone-number'] %}
    {{ data['mobile-phone-number']}} 
  {% else %}
    07712345678
  {% endif %}
{% endset %}

{% set addressLine1 %}
  {% if data['delivery-address-line-1'] %}
    {{ data['delivery-address-line-1'] }}
  {% else %}
    11 Lane Road
  {% endif %}
{% endset %}

{% set town %}
  {% if data['delivery-address-town'] %}
    {{ data['delivery-address-town'] }}
  {% else %}
    London
  {% endif %}
{% endset %}
{% set postcode %}
  {% if data['delivery-address-postcode'] %}
    {{ data['delivery-address-postcode'] }}
  {% else %}
    SW7 8RE
  {% endif %}
{% endset %}
{% set country %}
  {% if data['county'] %}
    {{ data['county'] }}
  {% else %}
    England
  {% endif %}
{% endset %}

{% set whenVaccine %}
  {% if data["cuVaccineDate-month"] and data["cuVaccineDate-year"]  %}
     {{ data["cuVaccineDate-month"] | monthToWord }} {{ data["cuVaccineDate-year"]}}
  {% else %}
    March 1975
  {% endif %}
{% endset %}


{% set version = "v1" %}
{% set pageTitle = "Check your answers" %}

{% extends "includes/layout.html" %}

{% block beforeContent %}
<div class="govuk-phase-banner">
  <p class="govuk-phase-banner__content">
    <strong class="govuk-tag govuk-phase-banner__content__tag">
      alpha
    </strong>
    <span class="govuk-phase-banner__text">
      This is a new service â€“ your <a class="govuk-link" href="#">feedback</a> will help us to improve it.
    </span>
  </p>
</div>

{{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.go(-1);"
  }) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds-from-desktop">

      <h1 class="govuk-heading-xl govuk-!-margin-bottom-3">{{ pageTitle }}</h1>

      <h2 class="govuk-heading-m">Procedure details</h2>
      <dl class="govuk-summary-list govuk-!-margin-bottom-9">
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Procedure date
          </dt>
          <dd class="govuk-summary-list__value">
            {{ procedure }}
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/elective-care-testing/{{version}}/trust-worker-request/date-of-procedure">
              Change
              <span class="govuk-visually-hidden">admission date</span>
            </a>
          </dd>
        </div>
      </dl>

      <h2 class="govuk-heading-m">Personal details</h2>
      <dl class="govuk-summary-list govuk-!-margin-bottom-9">
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Name
          </dt>
          <dd class="govuk-summary-list__value">
            {{ fullname }}
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/elective-care-testing/{{version}}/trust-worker-request/name">
              Change
              <span class="govuk-visually-hidden">name</span>
            </a>
          </dd>
        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Date of birth
          </dt>
          <dd class="govuk-summary-list__value">
            {{ dob }}
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/elective-care-testing/{{version}}/trust-worker-request/date-of-birth">
              Change
              <span class="govuk-visually-hidden">date of birth</span>
            </a>
          </dd>
        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Gender
          </dt>
          <dd class="govuk-summary-list__value">
            {{ Gender }} 
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/elective-care-testing/{{version}}/trust-worker-request/gender">
              Change
              <span class="govuk-visually-hidden">gender</span>
            </a>
          </dd>
        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            NHS number
          </dt>
          <dd class="govuk-summary-list__value">
            {{ NHSnumber }}
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/elective-care-testing/{{version}}/trust-worker-request/nhs-number">
              Change
              <span class="govuk-visually-hidden">NHS number</span>
            </a>
          </dd>
        </div>
      </dl>

       <h2 class="govuk-heading-m">Contact details</h2>
      <dl class="govuk-summary-list govuk-!-margin-bottom-9">
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Mobile number
          </dt>
          <dd class="govuk-summary-list__value">
            {{ mobile }}
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/elective-care-testing/{{version}}/trust-worker-request/mobile-number">
              Change
              <span class="govuk-visually-hidden">phone number</span>
            </a>
          </dd>
        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Delivery address
          </dt>
          <dd class="govuk-summary-list__value">
              <span>
                {{ addressLine1 }}<br>
                {% if data['delivery-address-line-2'] !== undefined and data['delivery-address-line-2'] !== "" %}
                  {{ data['delivery-address-line-2'] }}<br>
                {% endif %}
                {{ town }}<br>
                {{ postcode }}<br>
                {{ country }}
              </span>
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/elective-care-testing/{{version}}/trust-worker-request/delivery-address-manual">
              Change
              <span class="govuk-visually-hidden">shipping address</span>
            </a>
          </dd>
        </div>
      </dl>

      <h2 class="govuk-heading-m">Symptoms</h2>
      <dl class="govuk-summary-list govuk-!-margin-bottom-9">
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Do they have symptoms?
          </dt>
          <dd class="govuk-summary-list__value">
            {{ data.cuSymptomatic }}
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/elective-care-testing/{{version}}/trust-worker-request/symptoms">
              Change
              <span class="govuk-visually-hidden">Do they have symptoms</span>
            </a>
          </dd>
        </div>
        {% if data.cuSymptomatic == "Yes" %}
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Date symptoms started
            </dt>
            <dd class="govuk-summary-list__value">
              {{ symptoms }}
            </dd>
            <dd class="govuk-summary-list__actions">
              <a href="/elective-care-testing/{{version}}/trust-worker-request/symptoms-start">
                Change
                <span class="govuk-visually-hidden">date symptoms started</span>
              </a>
            </dd>
          </div>
        {% endif %}
      </dl>

      <h2 class="govuk-heading-m">Vaccine</h2>
      <dl class="govuk-summary-list govuk-!-margin-bottom-9">
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Have they had the vaccine?
          </dt>
          <dd class="govuk-summary-list__value">
            {{ data.cuVaccine }}
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/elective-care-testing/{{version}}/trust-worker-request/have-vaccine">
              Change
              <span class="govuk-visually-hidden">Have they had a vaccine?</span>
            </a>
          </dd>
        </div>
        {% if data.cuVaccine == "1 dose"%}
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Date of vaccine
            </dt>
            <dd class="govuk-summary-list__value">
              {% if data.cuVaccineStart == "less-than"%}
                Less than 7 days ago
              {% endif %}
              {% if data.cuVaccineStart == "equal" %}
                7 to 14 days ago
              {% endif %}
              {% if data.cuVaccineStart == "more-than" %}
                More than 14 days ago <br> {{ whenVaccine }}
              {% endif %}
            </dd>
            <dd class="govuk-summary-list__actions">
              <a href="/elective-care-testing/{{version}}/trust-worker-request/when-vaccine">
                Change
                <span class="govuk-visually-hidden">Have they had the vaccine?</span>
              </a>
            </dd>
          </div>
        {% endif %}
        {% if data.cuVaccine == "2 doses"%}
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Date of vaccine
            </dt>
            <dd class="govuk-summary-list__value">
              {% if data.cuVaccineStart == "less-than"%}
                Less than 7 days ago
              {% endif %}
              {% if data.cuVaccineStart == "equal" %}
                7 to 14 days ago
              {% endif %}
              {% if data.cuVaccineStart == "more-than" %}
                More than 14 days ago
              {% endif %}
            </dd>
            <dd class="govuk-summary-list__actions">
              <a href="/elective-care-testing/{{version}}/trust-worker-request/have-vaccine">
                Change
                <span class="govuk-visually-hidden">Have they had the vaccine?</span>
              </a>
            </dd>
          </div>
        {% endif %}
      </dl>

      <form action="/elective-care-testing/{{version}}/trust-worker-request-enhanced/confirmation-manual" method="post" novalidate>

        <input type="hidden" name="answers-checked" value="true">

        <button type="submit" class="govuk-button" data-module="govuk-button">
          Save and continue
        </button>

      </form>

    </div>
  </div>
{% endblock %}
