{% set version = "v1" %}
{% set pageTitle = "Confirm your appointment" %}

{% extends "includes/layout.html" %}

{% block beforeContent %}
  <div class="govuk-phase-banner">
    <p class="govuk-phase-banner__content">
      <strong class="govuk-tag govuk-phase-banner__content__tag">
        alpha
      </strong>
      <span class="govuk-phase-banner__text">
        This is a new service â€“ your <a class="govuk-link" href="#">feedback</a> will help us to improve it.
      </span>
    </p>
  </div>

  <a class="govuk-back-link" href="/moonshot/{{version}}/site-appointment-booking/vehicle-registration-number">Back</a>
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds-from-desktop">

      <h1 class="govuk-heading-xl govuk-!-margin-bottom-7">{{ pageTitle }}</h1>

      <p class="govuk-heading-m"><strong>Appointment details</strong></p>
      <dl class="govuk-summary-list govuk-!-margin-bottom-9">
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Test site
          </dt>
          <dd class="govuk-summary-list__value">
            {% if data['test-site'] == "Heathrow airport test site, 125 testing lane, RM4 3RS" %}
            <span id="choose-site-1-hint" class="govuk-body govuk-!-margin-bottom-2">
                Heathrow airport test site<br>
                125 testing Lane<br>
                Highbury & Islington<br>
                RM4 3RS
            </span>
            {% endif %}
            {% if data['test-site'] == "South London test site, 125 Sun road, RM 3RS" %}
            <span id="choose-site-1-hint" class="govuk-body govuk-!-margin-bottom-2">
                South London test site<br>
                125 Sun road<br>
                Edgware<br>
                RM4 3RS
            </span>
            {% endif %}
            {% if data['test-site'] == "East London test site, 125 testing Lane, RM4 3RS" %}
            <span id="choose-site-1-hint" class="govuk-body govuk-!-margin-bottom-2">
                South London test site<br>
                125 testing Lane<br>
                Highbury & Islington<br>
                RM4 3RS
            </span>
            {% endif %}
            {% if data['test-site'] == "West London test site, 125 testing Lane, RM4 3RS" %}
            <span id="choose-site-1-hint" class="govuk-body govuk-!-margin-bottom-2">
                South London test site<br>
                125 testing Lane<br>
                Chelsea<br>
                RM4 3RS
            </span>
            {% endif %}
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/moonshot/{{version}}/global-registration/people-confirmed-person-1">
              Change
              <span class="govuk-visually-hidden">test site</span>
            </a>
          </dd>
        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Date and time
          </dt>
          <dd class="govuk-summary-list__value">
            {{ data['time'] }}
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/moonshot/{{version}}/site-appointment-booking/choose-time">
              Change
              <span class="govuk-visually-hidden">date and time</span>
            </a>
          </dd>
        </div>
        {% if data['way-to-test'] == "drive-through" %}
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Vehicle registration
          </dt>
          <dd class="govuk-summary-list__value">
            {{ data['vehicle-registration-number'] }}
          </dd>
          <dd class="govuk-summary-list__actions">
            <a href="/moonshot/{{version}}/site-appointment-booking/vehicle-registration-number">
              Change
              <span class="govuk-visually-hidden">vehicle registration</span>
            </a>
          </dd>
        </div>
        {% endif %}
      </dl>

      <p class="govuk-body"><strong>People confirmed for testing</strong></p>
      <table class="govuk-table">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header govuk-!-width-one-third" style="border: none"></th>
            <th scope="col" class="govuk-table__header govuk-!-width-one-third" style="border: none"></th>
            <th scope="col" class="govuk-table__header govuk-!-width-one-third" style="border: none"></th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header">{{ data['first-name'] | default('Bob') }} {{ data['last-name'] | default('Smith') }}</th>
            <td class="govuk-table__cell">
              {{ data['mobile-phone-number'] | default('123456789') }}
            </td>
            <td class="govuk-table__cell">
              {{ data['email-address'] | default('bobsmith@testing.co.uk') }}
            </td>
          </tr>
          {% if data['first-name-person-1'] !== undefined %}
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header">{{ data['first-name-person-1'] }} {{ data['last-name-person-1'] }}</th>
            <td class="govuk-table__cell">
              {{ data['mobile-phone-number-person-1'] }}
            </td>
            <td class="govuk-table__cell">
              {{ data['email-address-person-1'] }}
            </td>
          </tr>
          {% endif %}
        </tbody>
      </table>

      <div class="govuk-inset-text">
        Check these details carefully before you confirm your appointment. You cannot change the appointment once it's been confirmed.
      </div>

      <form action="/moonshot/{{version}}/site-appointment-booking/confirmation" method="post" novalidate>

        <input type="hidden" name="answers-checked" value="true">

        <button type="submit" class="govuk-button" data-module="govuk-button">
          Save and continue
        </button>

      </form>

    </div>
  </div>
{% endblock %}
